<?xml version="1.0" encoding="utf-8"?>
<root>
  <FlowItem>
    <FlowID>__system_event</FlowID>
    <FlowName>系统事件</FlowName>
    <FlowDesc>系统流程－系统事件</FlowDesc>
    <FlowVer>1.0</FlowVer>
    <CreateDate>2008年04月06日 12:14:59</CreateDate>
    <ModifyDate>2009年09月07日 11:23:17</ModifyDate>
    <DesignVer>2.0</DesignVer>
  </FlowItem>
  <FlowNode>
    <NodeID>1084</NodeID>
    <NodeType>SUBSTART</NodeType>
    <NodeName>子流程开始</NodeName>
    <ExtendedProperty>
    </ExtendedProperty>
    <PropertySet>
      <AffectList>
        <varlist>
          <var>eventtype</var>
        </varlist>
        <varlist>
          <var>eventid</var>
        </varlist>
        <varlist>
          <var>param</var>
        </varlist>
        <varlist>
          <var>strparam</var>
        </varlist>
      </AffectList>
      <Exit>
        <ExitPort>
          <type>2</type>
          <targetflow>
          </targetflow>
          <target>
          </target>
        </ExitPort>
        <ExitPort>
          <type>1</type>
          <targetflow>
          </targetflow>
          <target>1132</target>
        </ExitPort>
      </Exit>
    </PropertySet>
  </FlowNode>
  <FlowNode>
    <NodeID>1132</NodeID>
    <NodeType>JUDGE</NodeType>
    <NodeName>判断 eventtype</NodeName>
    <ExtendedProperty>
    </ExtendedProperty>
    <PropertySet>
      <switch>
        <case>
          <expression>eventtype in (1,2)</expression>
          <ExitType>101</ExitType>
        </case>
      </switch>
      <Exit>
        <ExitPort>
          <type>2</type>
          <targetflow>
          </targetflow>
          <target>
          </target>
        </ExitPort>
        <ExitPort>
          <type>101</type>
          <targetflow>
          </targetflow>
          <target>3563</target>
        </ExitPort>
        <ExitPort>
          <type>100</type>
          <targetflow>
          </targetflow>
          <target>
          </target>
        </ExitPort>
      </Exit>
    </PropertySet>
  </FlowNode>
  <FlowNode>
    <NodeID>1133</NodeID>
    <NodeType>SCRIPT</NodeType>
    <NodeName>初始化 _gd_</NodeName>
    <ExtendedProperty>ZoneType=0;ScriptContent=_gd_['call_map'] = {} # chan =&gt; call_info
_gd_['conf_map'] = {} # conf_id -&gt; conf_info

</ExtendedProperty>
    <PropertySet>
      <Exit>
        <ExitPort>
          <type>2</type>
          <targetflow>
          </targetflow>
          <target>
          </target>
        </ExitPort>
        <ExitPort>
          <type>1</type>
          <targetflow>
          </targetflow>
          <target>
          </target>
        </ExitPort>
      </Exit>
    </PropertySet>
  </FlowNode>
  <FlowNode>
    <NodeID>1135</NodeID>
    <NodeType>LET</NodeType>
    <NodeName>定义 _gd_</NodeName>
    <ExtendedProperty>
    </ExtendedProperty>
    <PropertySet>
      <letlist>
        <let>
          <VarName>_gd_</VarName>
          <ZoneType>1</ZoneType>
          <Value>{}</Value>
        </let>
      </letlist>
      <Exit>
        <ExitPort>
          <type>2</type>
          <targetflow>
          </targetflow>
          <target>
          </target>
        </ExitPort>
        <ExitPort>
          <type>1</type>
          <targetflow>
          </targetflow>
          <target>1133</target>
        </ExitPort>
      </Exit>
    </PropertySet>
  </FlowNode>
  <FlowNode>
    <NodeID>3563</NodeID>
    <NodeType>JUDGE</NodeType>
    <NodeName>判断 _gd_</NodeName>
    <ExtendedProperty>
    </ExtendedProperty>
    <PropertySet>
      <switch>
        <case>
          <expression>IsVar("_gd_")</expression>
          <ExitType>101</ExitType>
        </case>
      </switch>
      <Exit>
        <ExitPort>
          <type>2</type>
          <targetflow>
          </targetflow>
          <target>
          </target>
        </ExitPort>
        <ExitPort>
          <type>101</type>
          <targetflow>
          </targetflow>
          <target>1133</target>
        </ExitPort>
        <ExitPort>
          <type>100</type>
          <targetflow>
          </targetflow>
          <target>1135</target>
        </ExitPort>
      </Exit>
    </PropertySet>
  </FlowNode>
</root>